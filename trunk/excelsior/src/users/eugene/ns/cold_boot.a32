        jump     start        nop        nopbcb_magic = 00hbcb_free  = 04hbcb_cycle = 08hbcb_cmd   = 0Chbcb_to    = 10hbcb_from  = 14h  ; movebcb_len   = 18h  ; move len in bytesbcb_res   = 1Ch  ; res of callmem_flag  = 0CF8000hmem_free  = 0CF8004hbcb_ref   = 0CF804Chmbus_F    = 0CF0000hstart:  movb    $0h,0FFF914h        bicpsrw $0F02h        lprd    sp,$200000h        setcfg  ifm        lmr     msr,$0h        movd    $10000h,r0delay:  acbd    -1,r0,delaywait_mem:        nop        nop        nop        nop        nop        nop        nop        nop        nop        nop        nop        nop        movb    $1,0FFF90Ch        cbitib  $0,mem_flag        movb    $0,0FFF908h        bfc     wait_mem        movw    mem_free,bcb_ref        movw    $3,bcb_ref+2        addw    $20h,mem_free        movb    $1,mem_flag        movzwd  bcb_ref,r7        addd    $mbus_F,r7        movw    $7007h,r1        movw    r1,bcb_magic  (r7)        movw    r1,bcb_magic+2(r7)        movw    $0,bcb_free   (r7)        movw    $0,bcb_free+2 (r7)        movw    $0,bcb_cycle  (r7)        movw    $0,bcb_cycle+2(r7)        movw    $0,bcb_cmd    (r7)        movw    $0,bcb_cmd+2  (r7)        movw    $0,bcb_to     (r7)        movw    $0,bcb_to+2   (r7)        movw    $0,bcb_from   (r7)        movw    $0,bcb_from+2 (r7)        movw    $0,bcb_len    (r7)        movw    $0,bcb_len+2  (r7)        movw    $0,bcb_res    (r7)        movw    $0,bcb_res+2  (r7)        movw    $1,bcb_free   (r7)l1:     nop        nop        nop        nop        nop        nop        nop        nop        nop        nop        nop        nop        movb    $1,0FFF90Ch        cbitib  $0h,bcb_free(r7)        movb    $0,0FFF908h        bfc     l1        addw    $1,bcb_cycle  (r7)        addcw   $0,bcb_cycle+2(r7)        movw    bcb_cmd(r7),r3        movw    $0,bcb_cmd(r7)        cmpw    $1,r3        beq     go_cmd        cmpw    $2,r3        beq     mov_cmdl13:    movb    $1,bcb_free(r7)        movd    $10000h,r0l12:    acbd    -1,r0,l12        br      l1mov_cmd:        movw    bcb_len+2 (r7),r0        rotd    $10h,r0        movw    bcb_len   (r7),r0 ; r0 - len in bytes        movw    bcb_from+2(r7),r1        rotd    $10h,r1        movw    bcb_from  (r7),r1 ; r1 - from        movw    bcb_to+2  (r7),r2        rotd    $10h,r2        movw    bcb_to    (r7),r2 ; r2 - to        movsb        br      l13go_cmd:        movw    bcb_to+2(r7),r1        rotd    $10h,r1        movw    bcb_to  (r7),r1        movd    $0,r0        jsr     0(r1)        movzwd  bcb_ref,r7        addd    $mbus_F,r7        movw    r0,bcb_res  (r7)        rotd    $10h,r0        movw    r0,bcb_res+2(r7)        br      l13